<ul class="nav nav-list" id="myMenu">
    <li ui-sref-active="active" ng-class="{'open':data.show}" ng-repeat="data in menuData">
        <a ng-if="data.nodes.length==0"  ui-sref="{{data.state}}" ng-class="{true:'dropdown-toggle' , false:''} [data.nodes.length >0]" ui:keyboard-navigatable navigate-on="{up: selectPreviousItem, down: selectNextItem, submit: close, escape: close}">
            
            <i class="menu-icon fa bigger-150" ng-class="{false:data.icon, true:'icon-double-angle-right' } [!data.padre]" ></i>
            <span ng-class="{true:'menu-text', false:'' } [data.padre]"> {{data.name}} </span>
            <b class="arrow fa fa-angle-down" ng-show="data.nodes.length >0"></b>
        </a>

        <a menu-click ng-if="data.nodes.length>0"  ng-class="{true:'dropdown-toggle' , false:''} [data.nodes.length >0]" ui:keyboard-navigatable navigate-on="{up: selectPreviousItem, down: selectNextItem, submit: close, escape: close}">
        
        <i class="menu-icon fa bigger-150" ng-class="{false:data.icon, true:'icon-double-angle-right' } [!data.padre]" ></i>
        <span ng-class="{true:'menu-text', false:'' } [data.padre]"> {{data.name}} </span>
        <b class="arrow fa fa-angle-down" ng-show="data.nodes.length >0"></b>
        </a>
        
        <ul class="submenu" ng-if="data.nodes"  ng-style="{display: data.show == true ? 'block' : 'none' }" >
            <li   ng-class="{'active':data.active}" ng-repeat="data in data.nodes">
                <a ng-if="data.nodes.length == 0" ui-sref="{{data.state}}">
                    <i class="menu-icon fa fa-caret-right"></i>
                    {{data.name}}
                </a>

                <a menu-click ng-if="data.nodes.length > 0"ng-class="{true:'dropdown-toggle' , false:''} [data.nodes.length >0]" ui:keyboard-navigatable navigate-on="{up: selectPreviousItem, down: selectNextItem, submit: close, escape: close}">
                    
                    <i class="menu-icon fa bigger-150" ng-class="{false:data.icon, true:'icon-double-angle-right' } [!data.padre]" ></i>
                    <span ng-class="{true:'menu-text', false:'' } [data.padre]"> {{data.name}} </span>
                    <b class="arrow fa fa-angle-down" ng-show="data.nodes.length >0"></b>
                </a>
                
                <ul class="submenu"  ng-style="{display: data.show == true ? 'block' : 'none' }" >
                    <li   ng-class="{'active':last.active}" ng-repeat="last in data.nodes" > 
                        <a ng-click="vmMenu.expand(last)"  ui-sref="{{last.state}}">
                            <i class="menu-icon fa fa-caret-right"></i>
                            {{last.name}}
                        </a>
                    </li>
                    
                </ul>
            </li>
        
        </ul>
    </li>
</ul>